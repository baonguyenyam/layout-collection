"use strict";function getUIMG(){$.get("/getimg",function(e){var t=JSON.parse(e).lists,i=JSON.parse(e).imgs,a=[],n=[];for(var o in getViewIMGIndexx(i),t)if(t.hasOwnProperty(o)){var r="";window.location.pathname.split("/")[2]===o&&(r=" active"),n.push('<option value="'+o+'">'+o.charAt(0).toUpperCase()+o.slice(1)+"</option>"),a.push('<a href="/view/'+o+'" class="list-group-item list-group-item-action'+r+'">'+o.charAt(0).toUpperCase()+o.slice(1)+"</a>")}$("#imgPath").append(n),$("#main-container").html(a),$("body").imagesLoaded().done(function(e){$(window).trigger("resize")})})}function getViewIMGIndexx(e){0<e.length?$("#pagination-container").pagination({dataSource:shuffle(e),pageSize:30,className:"paginationjs-theme-info",callback:function(e,t){var i=simpleTemplating(e);$("#view-container").html(i),$("#view-container [data-fancybox]").fancybox({buttons:["zoom","share","slideShow","fullScreen","download","thumbs","close"],youtube:{controls:0,showinfo:0},afterLoad:function(e,t){t.width=t.$image[0].naturalWidth,t.height=t.$image[0].naturalHeight}}),IMGResponsive();var a=new Freewall("#view-container");a.reset({selector:".item",animate:!0,cellW:$(window).width()<=768?200:220,cellH:"auto",onResize:function(){a.fitWidth()}}),a.fitWidth(),$(window).trigger("resize")}}):$("#view-container").html('<div class="alert alert-danger" role="alert">Không có tập tin nào!</div>')}function shuffle(e){for(var t,i,a=e.length;0!==a;)i=Math.floor(Math.random()*a),t=e[a-=1],e[a]=e[i],e[i]=t;return e}function simpleTemplating(e){var i="";return $.each(e,function(e,t){i+='<a data-fancybox="fb_homepage" href="'+t+'" class="item"><img src="'+t+'" /></a>'}),i+=""}$(document).ready(function(){getUIMG()});