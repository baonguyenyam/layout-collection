"use strict";function getUIMG(){$.get("/getimg",function(e){var t=JSON.parse(e).lists,a=JSON.parse(e).imgs,i=[],n=[];for(var o in getViewIMGIndexx(a),t)if(t.hasOwnProperty(o)){var r="";window.location.pathname.split("/")[2]===o&&(r=" active"),n.push('<option value="'+o+'">'+o.charAt(0).toUpperCase()+o.slice(1)+"</option>"),i.push('<a href="/view/'+o+'" class="list-group-item list-group-item-action'+r+'">'+o.charAt(0).toUpperCase()+o.slice(1)+"</a>")}$("#imgPath").append(n),$("#main-container").html(i)})}function getViewIMGIndexx(e){0<e.length?$("#pagination-container").pagination({dataSource:shuffle(e),pageSize:30,className:"paginationjs-theme-info",callback:function(e,t){var a=simpleTemplating(e);$("#view-container").html(a),$("#view-container [data-fancybox]").fancybox({buttons:["zoom","share","slideShow","fullScreen","download","thumbs","close"],youtube:{controls:0,showinfo:0},afterLoad:function(e,t){t.width=t.$image[0].naturalWidth,t.height=t.$image[0].naturalHeight}}),IMGResponsive();var i=new Freewall("#view-container");i.reset({selector:".item",animate:!0,cellW:$(window).width()<=768?200:220,cellH:"auto",onResize:function(){i.fitWidth()}}),i.fitWidth(),$(window).trigger("resize")}}):$("#view-container").html('<div class="alert alert-danger" role="alert">Không có tập tin nào!</div>')}function shuffle(e){for(var t,a,i=e.length;0!==i;)a=Math.floor(Math.random()*i),t=e[i-=1],e[i]=e[a],e[a]=t;return e}function simpleTemplating(e){var a="";return $.each(e,function(e,t){a+='<a data-fancybox="fb_homepage" href="'+t+'" class="item"><img src="'+t+'" /></a>'}),a+=""}$(document).ready(function(){getUIMG()});